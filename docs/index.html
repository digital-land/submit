<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Submit and update planning and housing data for England</h1>
<p>Project is a web application for validating and submitting planning and housing data for England.</p>
<h1>Dependencies</h1>
<p>Below is a list of dependencies needed to develop, run and deploy the application.</p>
<!-- TEMPLATE -->
<!--div class="" data-type="Dependency">
  Dependencies have the following format:
  <pre>
  - Dependency Name : string
    - Description: string // a sentence or two
    - Used for: string    // a sentence or two
    - Contact: string?     // email or username or full name of person responsible
  </pre>
</div -->
<h2>Services</h2>
<ul>
<li>AWS
<ul>
<li><strong>Description</strong>: Various cloud infrastructure products</li>
<li><strong>Used for</strong>: Running the application and associated services.</li>
<li><strong>Contact</strong>: Infrastructure Team @ MHCLG</li>
</ul>
</li>
<li>Redis
<ul>
<li><strong>Description</strong>: An in memory key-value store</li>
<li><strong>Used for</strong>: storing session information</li>
<li><strong>Contact</strong>: Infrastructure Team @ MHCLG</li>
</ul>
</li>
<li><a href="https://github.com/digital-land/async-request-backend">Local Authorities API</a> (external dependency)
<ul>
<li><strong>Description</strong>: asynchronous request processing for frontends</li>
<li><strong>Used for</strong>: Processing user submitted data</li>
<li><strong>Contact</strong>: Infrastructure Team @ MHCLG</li>
</ul>
</li>
</ul>
<h2>API Keys/Secrets</h2>
<ul>
<li>Github
<ul>
<li><strong>Description</strong>: Source code hosting</li>
<li><strong>Used for</strong>: Storing the code and as a dependency source of internal packages.</li>
<li><strong>Contact</strong>: Infrastructure Team @ MHCLG</li>
</ul>
</li>
<li><a href="https://smartlook.com">Smartlook</a>
<ul>
<li><strong>Description</strong>: Web Analytics</li>
<li><strong>Used for</strong>: Collecting <em>anonymised</em> data on website usage</li>
<li><strong>Contact</strong>: Providers team @ MHCLG</li>
</ul>
</li>
<li><a href="https://sentry.io">Sentry</a>
<ul>
<li><strong>Description</strong>: Application monitoring service</li>
<li><strong>Used for</strong>: Monotoring warnings and errors.</li>
<li><strong>Contact</strong>: Infrastructure Team @ MHCLG</li>
</ul>
</li>
<li><a href="https://analytics.google.com/analytics">Google Analytics</a>
<ul>
<li><strong>Description</strong>: Web Analytics</li>
<li><strong>Used for</strong>: Collecting data on website usage</li>
<li><strong>Contact</strong>: Providers team @ MHCLG</li>
</ul>
</li>
</ul>
<h2>Software</h2>
<ul>
<li>Nodejs
<ul>
<li><strong>Description</strong>: JS runtime</li>
<li><strong>Used for</strong>: running the web application</li>
</ul>
</li>
<li>Wiremock
<ul>
<li><strong>Description</strong>: Tool for mocking APIs. Allows to serve pre-baked data from a file/directory.</li>
</ul>
</li>
<li>Docker (for development)
<ul>
<li><strong>Description</strong>: Container runtime</li>
<li><strong>Used for</strong>: Running Redis and localstack/testcontainers</li>
</ul>
</li>
<li><a href="https://design-system.service.gov.uk/">GOV.UK Design System</a>
<ul>
<li><strong>Description</strong>: Design System</li>
<li><strong>Used for</strong>: Making the UI consistent with other government services.</li>
</ul>
</li>
</ul>
<h2>Setup</h2>
<ul>
<li>Install the node packages<pre class="prettyprint source"><code>npm install
</code></pre>
</li>
<li>setup husky pre-commit hooks<pre class="prettyprint source"><code>npm run prepare
</code></pre>
</li>
<li>compile scss file<pre class="prettyprint source"><code>npm run scss
</code></pre>
</li>
</ul>
<h2>Running the application</h2>
<p>The application picks up one of the configs in <code>config</code> directory,
depeding on <code>NODE_ENV</code> environment variable (set to 'production' by default).</p>
<p>You can start the appliction in one fo the following ways (see &quot;scripts&quot; section
of <a href="package.json">package.json</a>) for more examples.</p>
<ul>
<li>Run the application<pre class="prettyprint source"><code>npm run start
</code></pre>
</li>
<li>Run the application, using a local API<pre class="prettyprint source"><code>npm run start:local
</code></pre>
</li>
<li>Run the application, using a local API in watch mode<pre class="prettyprint source"><code>npm run start:local:watch
</code></pre>
</li>
<li>Run the application using docker<pre class="prettyprint source"><code>docker compose -f docker-compose-real-backend.yml up
</code></pre>
</li>
<li>Run the application (without the frontend) using docker<pre class="prettyprint source"><code>docker compose -f docker-compose-real-backend-minus-frontend.yml up
</code></pre>
</li>
<li>Run external services in containers and start application<pre class="prettyprint source"><code>npm run dev
</code></pre>
</li>
</ul>
<h3>Mac users only</h3>
<p>If you are a Mac user, please note that port 5000 is used by AirPlay Receiver. In order to use the application, you will need to switch off AirPlay Receiver
or update your local config to use a different port.</p>
<p>To switch off AirPlay Receiver, follow these steps:</p>
<ol>
<li>Open System Preferences on your Mac.</li>
<li>Search for &quot;AirDrop &amp; Handoff&quot;.</li>
<li>In the &quot;AirPlay Receiver&quot; toggle, select &quot;Off&quot;.</li>
</ol>
<p>Once you have switched off AirPlay Receiver, you should be able to use the application without any issues.</p></article>
    </section>









<section>

<header>
    
        <h2>types/datasette.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Type definitions for data coming out of digital-land datasette instance.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="types_datasette.js.html">types/datasette.js</a>, <a href="types_datasette.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>utils/table.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Functionality around rendering data in tables.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_table.js.html">utils/table.js</a>, <a href="utils_table.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CheckDeepLinkController.html">CheckDeepLinkController</a></li><li><a href="EndpointSubmissionFormDeepLinkController.html">EndpointSubmissionFormDeepLinkController</a></li><li><a href="MiddlewareError.html">MiddlewareError</a></li><li><a href="PageController.html">PageController</a></li><li><a href="module.html#.exports">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#FetchOneFallbackPolicy">FetchOneFallbackPolicy</a></li><li><a href="global.html#addNoticesToDatasets">addNoticesToDatasets</a></li><li><a href="global.html#attachFileToIssue">attachFileToIssue</a></li><li><a href="global.html#availableDatasets">availableDatasets</a></li><li><a href="global.html#checkToolDeepLink">checkToolDeepLink</a></li><li><a href="global.html#createCustomerRequest">createCustomerRequest</a></li><li><a href="global.html#datasetStatusEnum">datasetStatusEnum</a></li><li><a href="global.html#datasetSubmissionDeadlineCheck">datasetSubmissionDeadlineCheck</a></li><li><a href="global.html#datasets">datasets</a></li><li><a href="global.html#endpointSubmissionFormToolDeepLink">endpointSubmissionFormToolDeepLink</a></li><li><a href="global.html#fetchDatasetErrorStatus">fetchDatasetErrorStatus</a></li><li><a href="global.html#fetchIf">fetchIf</a></li><li><a href="global.html#fetchIfFn">fetchIfFn</a></li><li><a href="global.html#fetchLatestResource">fetchLatestResource</a></li><li><a href="global.html#fetchLocalAuthorities">fetchLocalAuthorities</a></li><li><a href="global.html#fetchMany">fetchMany</a></li><li><a href="global.html#fetchManyFn">fetchManyFn</a></li><li><a href="global.html#fetchManyFromAllDatasets">fetchManyFromAllDatasets</a></li><li><a href="global.html#fetchManyFromAllDatasetsFn">fetchManyFromAllDatasetsFn</a></li><li><a href="global.html#fetchOne">fetchOne</a></li><li><a href="global.html#fetchOneFn">fetchOneFn</a></li><li><a href="global.html#fetchOneFromAllDatasets">fetchOneFromAllDatasets</a></li><li><a href="global.html#fetchResourceStatus">fetchResourceStatus</a></li><li><a href="global.html#formatData">formatData</a></li><li><a href="global.html#getColumnFieldLog">getColumnFieldLog</a></li><li><a href="global.html#getDeadlineHistory">getDeadlineHistory</a></li><li><a href="global.html#getErrorSummary">getErrorSummary</a></li><li><a href="global.html#getGeometries">getGeometries</a></li><li><a href="global.html#getIssueDetails">getIssueDetails</a></li><li><a href="global.html#getIssueField">getIssueField</a></li><li><a href="global.html#getLastPage">getLastPage</a></li><li><a href="global.html#getPagination">getPagination</a></li><li><a href="global.html#getRowsWithVerboseColumns">getRowsWithVerboseColumns</a></li><li><a href="global.html#getSetDataRange">getSetDataRange</a></li><li><a href="global.html#getStatusTag">getStatusTag</a></li><li><a href="global.html#getVerboseColumns">getVerboseColumns</a></li><li><a href="global.html#handleRejections">handleRejections</a></li><li><a href="global.html#initiateJsHiddenChecks">initiateJsHiddenChecks</a></li><li><a href="global.html#invalidSchemaPaths">invalidSchemaPaths</a></li><li><a href="global.html#isFeatureEnabled">isFeatureEnabled</a></li><li><a href="global.html#isResourceIdValid">isResourceIdValid</a></li><li><a href="global.html#logPageError">logPageError</a></li><li><a href="global.html#lpaOverviewQuery">lpaOverviewQuery</a></li><li><a href="global.html#makeDatasetSlugToReadableNameFilter">makeDatasetSlugToReadableNameFilter</a></li><li><a href="global.html#maybeSetReferrer">maybeSetReferrer</a></li><li><a href="global.html#orgStatsReducer">orgStatsReducer</a></li><li><a href="global.html#pagination">pagination</a></li><li><a href="global.html#parallel">parallel</a></li><li><a href="global.html#parallelFn">parallelFn</a></li><li><a href="global.html#postRequest">postRequest</a></li><li><a href="global.html#prepareDatasetEndpointIssueTemplateParams">prepareDatasetEndpointIssueTemplateParams</a></li><li><a href="global.html#prepareDatasetOverviewTemplateParams">prepareDatasetOverviewTemplateParams</a></li><li><a href="global.html#prepareDatasetTaskListTemplateParams">prepareDatasetTaskListTemplateParams</a></li><li><a href="global.html#prepareGetOrganisationsTemplateParams">prepareGetOrganisationsTemplateParams</a></li><li><a href="global.html#prepareOverviewTemplateParams">prepareOverviewTemplateParams</a></li><li><a href="global.html#prepareTasks">prepareTasks</a></li><li><a href="global.html#preventIndexing">preventIndexing</a></li><li><a href="global.html#processEntitiesMiddleware">processEntitiesMiddleware</a></li><li><a href="global.html#processSpecificationMiddleware">processSpecificationMiddleware</a></li><li><a href="global.html#proto">proto</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#renderTemplate">renderTemplate</a></li><li><a href="global.html#renderTemplateFn">renderTemplateFn</a></li><li><a href="global.html#requiredDatasets">requiredDatasets</a></li><li><a href="global.html#requiresGeometryTypeToBeSelected">requiresGeometryTypeToBeSelected</a></li><li><a href="global.html#requiresGeometryTypeToBeSelectedViaDeepLink">requiresGeometryTypeToBeSelectedViaDeepLink</a></li><li><a href="global.html#schemaIssues">schemaIssues</a></li><li><a href="global.html#setNoticesFromSourceKey">setNoticesFromSourceKey</a></li><li><a href="global.html#setupNunjucks">setupNunjucks</a></li><li><a href="global.html#splitByLeading">splitByLeading</a></li><li><a href="global.html#statusToTagClassMapping">statusToTagClassMapping</a></li><li><a href="global.html#templateSchema">templateSchema</a></li><li><a href="global.html#types">types</a></li><li><a href="global.html#validateAndRender">validateAndRender</a></li><li><a href="global.html#validateQueryParamsFn">validateQueryParamsFn</a></li><li><a href="global.html#validationErrorMessage">validationErrorMessage</a></li><li><a href="global.html#wizardBackLink">wizardBackLink</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>